"use strict";var CATALOG=[{id:1,name:"Кот полосатый",img:"img/img-1.jpg",discount:{mark:!0,num:"40%"},characteristic:{color:"Коричневый окрас",age:"6 мес.",paws:"4"},price:3e4,forSale:!0},{id:2,name:"Кот полосатый",img:"img/img-2.jpg",discount:{mark:!1,num:"0"},characteristic:{color:"Коричневый окрас",age:"4 мес.",paws:"4"},price:4e4,forSale:!1},{id:3,name:"Кот полосатый",img:"img/img-3.jpg",discount:{mark:!1,num:"0"},characteristic:{color:"Коричневый окрас",age:"3 года",paws:"4"},price:2e4,forSale:!0},{id:4,name:"Кот полосатый",img:"img/img-1.jpg",discount:{mark:!1,num:"0"},characteristic:{color:"Коричневый окрас",age:"10 лет",paws:"4"},price:25e3,forSale:!0},{id:5,name:"Кот полосатый",img:"img/img-3.jpg",discount:{mark:!0,num:"40%"},characteristic:{color:"Коричневый окрас",age:"10 мес.",paws:"4"},price:3e4,forSale:!0},{id:6,name:"Кот полосатый",img:"img/img-2.jpg",discount:{mark:!1,num:"0%"},characteristic:{color:"Коричневый окрас",age:"2 года",paws:"4"},price:1e4,forSale:!1},{id:7,name:"Кот полосатый",img:"img/img-3.jpg",discount:{mark:!0,num:"40%"},characteristic:{color:"Коричневый окрас",age:"4 мес.",paws:"4"},price:28e3,forSale:!0},{id:8,name:"Кот полосатый",img:"img/img-1.jpg",discount:{mark:!1,num:"0"},characteristic:{color:"Коричневый окрас",age:"7 лет",paws:"4"},price:2e4,forSale:!1},{id:9,name:"Кот полосатый",img:"img/img-2.jpg",discount:{mark:!1,num:"0"},characteristic:{color:"Коричневый окрас",age:"13 лет",paws:"4"},price:18e3,forSale:!0},{id:10,name:"Кот полосатый",img:"img/img-1.jpg",discount:{mark:!1,num:"0"},characteristic:{color:"Коричневый окрас",age:"5 лет",paws:"4"},price:25e3,forSale:!0},{id:11,name:"Кот полосатый",img:"img/img-2.jpg",discount:{mark:!0,num:"40%"},characteristic:{color:"Коричневый окрас",age:"10 мес.",paws:"4"},price:5e4,forSale:!0},{id:12,name:"Кот полосатый",img:"img/img-1.jpg",discount:{mark:!1,num:"0%"},characteristic:{color:"Коричневый окрас",age:"1 год",paws:"4"},price:7e4,forSale:!1}],body=document.body,burgerMenu=document.querySelector(".burger__menu"),burgerContain=document.querySelector(".burger__container"),menuList=document.querySelector(".menu__list"),menuTel=document.querySelector(".tel");burgerMenu.addEventListener("click",(function(){[body,burgerContain,menuList,menuTel].forEach((function(t){t.classList.toggle("open")}))}),!1);var flagPrice,cardsContainer=document.querySelector(".assortment__product-cards"),resultText=document.querySelector(".search-result__text"),filter=document.querySelector(".assortment__filter"),btnMore=document.querySelector(".assortment__btn-more"),flagAge=!0,cards=JSON.parse(JSON.stringify(CATALOG)),trimCards=[];function getQuantity(){return 11===CATALOG.length||12===CATALOG.length?resultText.textContent="Найден ".concat(CATALOG.length," котов"):CATALOG.length%10==1?resultText.textContent="Найден ".concat(CATALOG.length," кот"):CATALOG.length%10==2?resultText.textContent="Найдено ".concat(CATALOG.length," кота"):resultText.textContent="Найдено ".concat(CATALOG.length," котов")}function sortByAge(){var t;cards.forEach((function(e){(t=e.characteristic.age.split(" "))[0]=Number(t[0]),(t[1].startsWith("год")||t[1].startsWith("лет"))&&(t[0]*=12),e.characteristic.age=t})),flagAge?cards.sort((function(t,e){return t.characteristic.age[0]>e.characteristic.age[0]?1:-1})):cards.sort((function(t,e){return t.characteristic.age[0]<e.characteristic.age[0]?1:-1})),cards.forEach((function(e){((t=e.characteristic.age)[1].startsWith("год")||t[1].startsWith("лет"))&&(t[0]/=12),e.characteristic.age=t.join(" ")})),getTrimCards(),buildCards(trimCards)}function sortByPrice(){flagPrice?cards.sort((function(t,e){return t.price>e.price?1:-1})):cards.sort((function(t,e){return t.price<e.price?1:-1})),getTrimCards(),buildCards(trimCards)}function getTrimCards(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:trimCards.length;return trimCards=cards.slice(0,t)}function buildCards(t){cardsContainer.innerHTML="",t.forEach((function(t){cardsContainer.innerHTML+=' <div class="product-card"> \n    <header class="product-card__header"> <img class="product-card__img" src= '.concat(t.img,' alt="фото кота" srcset="">\n      ').concat(isDiscount(t.discount),'\n      <svg class="product-card__mark product-card__mark--heart" width="46" height="42" viewBox="0 0 46 42" xmlns="http://www.w3.org/2000/svg" >\n        <path class="imgHeart" d="M33.7812 0.695312C31.2851 0.695312 28.9966 1.4863 26.9794 3.04634C25.0456 4.54197 23.758 6.44693 23 7.83214C22.242 6.44684 20.9544 4.54197 19.0206 3.04634C17.0034 1.4863 14.7149 0.695312 12.2188 0.695312C5.25298 0.695312 0 6.39293 0 13.9485C0 22.1112 6.55347 27.696 16.4746 36.1505C18.1593 37.5863 20.0689 39.2138 22.0538 40.9494C22.3154 41.1785 22.6514 41.3047 23 41.3047C23.3486 41.3047 23.6846 41.1785 23.9462 40.9495C25.9312 39.2136 27.8408 37.5862 29.5265 36.1496C39.4465 27.696 46 22.1112 46 13.9485C46 6.39293 40.747 0.695312 33.7812 0.695312Z"/>\n      </svg>\n    </header>\n    <div class="product-card__content"> \n      <h3 class="product-card__title">').concat(t.name,'</h3>\n    <div class="product-card__desc desc">\n      <div class="desc__color">').concat(t.characteristic.color,'</div>\n    <div class="desc__age"><span>').concat(t.characteristic.age,'</span>Возраст</div>\n      <div class="desc__paws"><span>').concat(t.characteristic.paws,'</span>Кол-во лап</div>\n        </div>\n    <div class="product-card__price" data-price="30000">').concat(changePrice(t.price)," руб.</div>\n    </div>\n    ").concat(isSale(t),"\n    </div>")}))}function isDiscount(t){return!0===t.mark?'<span class="product-card__mark product-card__mark--discount">-'.concat(t.num,"</span>"):""}function isSale(t){return!0===t.forSale?'<button class="btn-reset product-card__btn">Купить</button>':'<button class="btn-reset product-card__btn product-card__btn--sold" desabled>Продан</button>'}function changePrice(t){return String(t).replace(/(\d)(?=(\d{3})+$)/g,"$1 ")}filter.addEventListener("click",(function(t){"btnPrice"==t.target.id&&(sortByPrice(),flagPrice=!flagPrice,t.target.querySelector("svg").classList.toggle("icon-arrow--down")),"btnAge"==t.target.id&&(sortByAge(),flagAge=!flagAge,t.target.querySelector("svg").classList.toggle("icon-arrow--down"))})),btnMore.addEventListener("click",(function(){getTrimCards(trimCards.length+6),buildCards(trimCards),trimCards.length===cards.length&&(btnMore.style.display="none")})),getTrimCards(trimCards.length+6),buildCards(trimCards),getQuantity();var modal=document.querySelector(".modal"),modalText=document.querySelector(".modal-favorites__text"),imgHeart=document.querySelectorAll(".product-card__mark--heart");cardsContainer.addEventListener("click",(function(t){var e=t.target.parentNode;t.target.classList.contains("imgHeart")&&(e.classList.toggle("product-card__mark--heart-checked"),e.classList.contains("product-card__mark--heart-checked")?modalText.textContent="Добавлено в избранное":modalText.textContent="Удалено из избранного",modal.classList.add("modal__open"),setTimeout((function(){modal.classList.remove("modal__open")}),2e3))}));var btnTop=document.querySelector(".btn__to-top");function btnReveal(){console.log(),window.scrollY>=300?btnTop.classList.add("to-top__is-visible"):btnTop.classList.remove("to-top__is-visible")}function TopscrollTo(){0!=window.scrollY&&setTimeout((function(){window.scrollTo(0,window.scrollY-10),TopscrollTo()}),5)}window.addEventListener("scroll",btnReveal),btnTop.addEventListener("click",TopscrollTo),btnReveal();var formInput=document.querySelector(".form__input"),formBtn=document.querySelector(".form__btn"),formCheck=document.querySelector(".form__check");[formInput,formCheck].forEach((function(t){t.addEventListener("input",(function(){""!==formInput.value&&1==formCheck.checked?formBtn.removeAttribute("disabled"):formBtn.setAttribute("disabled",!0)}))}));